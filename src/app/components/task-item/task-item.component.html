<div class="task" [ngClass]="{'task-completed': task.completed, 'task-overdue': isOverdue()}">
  <div class="task-info">
    <div class="task-header">
      <label class="checkbox-container">
        <input 
          type="checkbox" 
          [checked]="task.completed" 
          (change)="onCheckboxChange()"
        />
        <span class="checkmark"></span>
      </label>
      <h3 [ngClass]="{'completed': task.completed}">{{ task.text }}</h3>
      <div [class]="'priority-tag ' + getPriorityClass()">{{ task.priority }}</div>
    </div>
    
    <div class="task-details">
      <div class="due-date" [ngClass]="{'overdue': isOverdue()}">
        <span class="date-label">Due:</span> {{ task.dueDate | date:'mediumDate' }} at {{ task.dueTime }}
      </div>
    </div>
  </div>
  
  <div class="task-actions">
    <button class="btn btn-edit" (click)="onEditTask()">Edit</button>
    <button class="btn btn-delete" (click)="onDeleteTask()">Delete</button>
  </div>
  
  <!-- Confirmation Dialog -->
  <div *ngIf="showConfirmDialog" class="confirmation-dialog">
    <div class="dialog-content">
      <p>Are you sure you want to delete this task?</p>
      <div class="dialog-actions">
        <button class="btn btn-cancel" (click)="cancelDelete()">Cancel</button>
        <button class="btn btn-confirm" (click)="confirmDelete()">Delete</button>
      </div>
    </div>
  </div>
</div>